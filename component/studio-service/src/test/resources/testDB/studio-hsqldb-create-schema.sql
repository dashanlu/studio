CREATE SCHEMA "STUDIO" AUTHORIZATION DBA;

CREATE TABLE "STUDIO"."USER"(
	ID INTEGER GENERATED BY DEFAULT AS IDENTITY (
		START WITH 1
	)NOT NULL PRIMARY KEY,
	FIRSTNAME VARCHAR(64),
	SURNAME VARCHAR(64)
);
CREATE UNIQUE INDEX USER_PK ON "STUDIO"."USER"(ID)
;


CREATE TABLE "STUDIO"."BOOKING"(
	BOOKING_ID INTEGER GENERATED BY DEFAULT AS IDENTITY (
		START WITH 1
	)NOT NULL PRIMARY KEY,
	
	BOOKING_DATE DATE NOT NULL,
	USERID INTEGER NOT NULL
);

ALTER TABLE "STUDIO"."BOOKING"
ADD CONSTRAINT BOOKING_TO_USER
FOREIGN KEY (USERID)
REFERENCES "STUDIO"."USER"(ID)
;
CREATE UNIQUE INDEX BOOKING_PK ON "STUDIO"."BOOKING"(BOOKING_ID)
;
CREATE UNIQUE INDEX BOOKING_U1 ON "STUDIO"."BOOKING"(BOOKING_ID, USERID)
;

